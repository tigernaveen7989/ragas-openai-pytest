{"name": "test_top_adherence_score[get_multiturn_data2]", "status": "broken", "statusDetails": {"message": "TypeError: not all arguments converted during string formatting", "trace": "self = <tests.test_rest_assured.TestRestAssured object at 0x0000026B39F5A150>\nget_llm_wrapper = LangchainLLMWrapper(langchain_llm=ChatOpenAI(...))\nget_multiturn_data = (MultiTurnSample(user_input=[HumanMessage(content='What is Playwright used for?', metadata=None, type='human'), AIMess...t’s commonly used to validate complex e‑commerce flows, UI component behavior, and API responses in CI/CD pipelines.'])\nlogger = <Logger pytest_logger (DEBUG)>\n\n    @allure.story(\"Top Adherence Evaluation\")\n    @allure.description(\n        \"Validates that the model response remains top adherence to the reference context for rest assured\")\n    @pytest.mark.asyncio\n    @pytest.mark.parametrize(\"get_multiturn_data\", IronMan.load_test_data(feature_name, \"multiturn\"), indirect=True)\n    async def test_top_adherence_score(self, get_llm_wrapper, get_multiturn_data, logger):\n        \"\"\"\n        Test to validate aspect critic score using reusable helper class.\n        \"\"\"\n        sample, response = get_multiturn_data\n        evaluator = MetricsEvaluator(get_llm_wrapper)\n        score = await evaluator.get_top_adherence_score(sample=sample, response=response)\n        logger.info(f\"Top Adherence Score: {score}\")\n>       self.assertions.assert_top_adherence(score=score, threshold=0.8)\n\ntest_rest_assured.py:46: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n..\\utilities\\assertions.py:120: in assert_top_adherence\n    self.logger.info(\"Expected Threshold \", threshold, \"Score \", score)\n..\\..\\..\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\logging\\__init__.py:1539: in info\n    self._log(INFO, msg, args, **kwargs)\n..\\..\\..\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\logging\\__init__.py:1684: in _log\n    self.handle(record)\n..\\..\\..\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\logging\\__init__.py:1700: in handle\n    self.callHandlers(record)\n..\\..\\..\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\logging\\__init__.py:1762: in callHandlers\n    hdlr.handle(record)\n..\\..\\..\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\logging\\__init__.py:1028: in handle\n    self.emit(record)\n..\\.venv\\Lib\\site-packages\\_pytest\\logging.py:384: in emit\n    super().emit(record)\n..\\..\\..\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\logging\\__init__.py:1168: in emit\n    self.handleError(record)\n..\\..\\..\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\logging\\__init__.py:1160: in emit\n    msg = self.format(record)\n          ^^^^^^^^^^^^^^^^^^^\n..\\..\\..\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\logging\\__init__.py:999: in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n..\\.venv\\Lib\\site-packages\\_pytest\\logging.py:137: in format\n    return super().format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^\n..\\..\\..\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\logging\\__init__.py:703: in format\n    record.message = record.getMessage()\n                     ^^^^^^^^^^^^^^^^^^^\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <LogRecord: pytest_logger, 20, C:\\Users\\SG0704235\\PycharmProjects\\ragas-openai-pytest\\utilities\\assertions.py, 120, \"Expected Threshold \">\n\n    def getMessage(self):\n        \"\"\"\n        Return the message for this LogRecord.\n    \n        Return the message for this LogRecord after merging any user-supplied\n        arguments with the message.\n        \"\"\"\n        msg = str(self.msg)\n        if self.args:\n>           msg = msg % self.args\n                  ^^^^^^^^^^^^^^^\nE           TypeError: not all arguments converted during string formatting\n\n..\\..\\..\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\logging\\__init__.py:392: TypeError"}, "description": "Validates that the model response remains top adherence to the reference context for rest assured", "steps": [{"name": "Calculate Top Adherence Score", "status": "passed", "attachments": [{"name": "User Input", "source": "7ff2421a-41c5-4e01-9ecf-e7eee95603aa-attachment.txt", "type": "text/plain"}, {"name": "Chatbot Response", "source": "02ad5834-6b29-45a7-b7db-3abd678cd0bc-attachment.txt", "type": "text/plain"}, {"name": "Individual Adherence Scores", "source": "c4668456-bea0-481f-b2b2-76f9a65dbe7b-attachment.txt", "type": "text/plain"}, {"name": "Final Top Adherence Score", "source": "534f26e7-6aa3-4986-9d4e-6892b8351505-attachment.txt", "type": "text/plain"}], "start": 1763188762791, "stop": 1763188767409}, {"name": "Top Adherence Score: 1.0", "status": "passed", "start": 1763188767409, "stop": 1763188767409}], "attachments": [{"name": "log", "source": "d1230d2d-f3fe-4543-8015-316011c005d4-attachment.txt", "type": "text/plain"}, {"name": "stdout", "source": "2951e3e2-ef38-4979-81d0-1996e711eb65-attachment.txt", "type": "text/plain"}, {"name": "stderr", "source": "1aeb1d6e-da20-4f5a-9638-61595bfd3663-attachment.txt", "type": "text/plain"}], "parameters": [{"name": "get_multiturn_data", "value": "{'conversation': [{'role': 'human', 'content': 'What is Playwright used for?'}, {'role': 'ai', 'content': 'Playwright is an end-to-end testing framework for web applications developed by Microsoft. It supports multiple browsers like Chromium, Firefox, and WebKit, and automates testing for UI and APIs.'}, {'role': 'human', 'content': 'What languages does Playwright support?'}, {'role': 'ai', 'content': 'Playwright supports JavaScript, TypeScript, Python, Java, and .NET, allowing flexibility for automation teams using different tech stacks.'}, {'role': 'human', 'content': 'Why is TypeScript preferred for Playwright projects?'}, {'role': 'ai', 'content': 'TypeScript adds static typing and better IntelliSense support, reducing runtime errors. It helps maintain large test codebases more efficiently compared to plain JavaScript.'}, {'role': 'human', 'content': 'How can I switch between JavaScript and TypeScript in Playwright?'}, {'role': 'ai', 'content': 'When creating a Playwright project, you can choose JavaScript or TypeScript mode using `npx playwright codegen` or `npx playwright init`. If you initially chose JavaScript, adding a `tsconfig.json` and renaming files to `.ts` will enable TypeScript support.'}, {'role': 'human', 'content': 'Can I use Playwright in CI/CD pipelines?'}, {'role': 'ai', 'content': 'Yes, Playwright integrates well with CI/CD tools like Jenkins, GitHub Actions, or GitLab CI. You can run headless tests in containers or virtual environments using `npx playwright test --reporter=html`.'}], 'reference_contexts': ['Playwright is a cross-browser testing tool supporting JavaScript and TypeScript.', 'TypeScript is preferred for better type safety and maintainability.', 'Playwright integrates easily with CI/CD pipelines for automated test execution.'], 'reference': 'Playwright is an end-to-end testing framework supporting JavaScript and TypeScript. TypeScript enhances reliability and scalability of test code. Playwright integrates with CI/CD tools for automated web testing.', 'synthesizer_name': 'multi_turn_playwright_typescript_javascript'}"}], "start": 1763188762791, "stop": 1763188767413, "uuid": "0c6d08b2-b2c5-4567-a7ed-220343dc905b", "historyId": "9c1af3081cc002e58181bcbc11e0b0d3", "testCaseId": "b483da4e4716765c33f1fead839d530b", "fullName": "tests.test_rest_assured.TestRestAssured#test_top_adherence_score", "labels": [{"name": "feature", "value": "Rest Assured"}, {"name": "story", "value": "Top Adherence Evaluation"}, {"name": "suite", "value": "Rest Assured Evaluation Suite"}, {"name": "tag", "value": "asyncio"}, {"name": "parentSuite", "value": "tests"}, {"name": "subSuite", "value": "TestRestAssured"}, {"name": "host", "value": "W4KPW724"}, {"name": "thread", "value": "21192-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "tests.test_rest_assured"}], "titlePath": ["tests", "test_rest_assured.py", "TestRestAssured"]}