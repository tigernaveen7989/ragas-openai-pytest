{"name": "test_faithfulness[get_singleturn_data0]", "status": "failed", "statusDetails": {"message": "AssertionError: ❌ Faithfulness score too low: 0.5. Expected > 0.7", "trace": "self = <tests.test_loyalty_tier_offers.TestLoyaltyTierOffers object at 0x000002259A344680>\nget_llm_wrapper = LangchainLLMWrapper(langchain_llm=ChatOpenAI(...))\nget_singleturn_data = SingleTurnSample(user_input='What is the purpose of the Seat Map & Ancillary Offers feature with Frequent Flyer Tier B...arking items as free or discounted based on the passenger’s tier.', multi_responses=None, reference=None, rubrics=None)\nlogger = <Logger pytest_logger (DEBUG)>\n\n    @allure.severity(allure.severity_level.CRITICAL)\n    @allure.description(\n        \"Validates that the model response remains faithful to the reference context for loyalty tier offers.\")\n    @pytest.mark.asyncio\n    @pytest.mark.parametrize(\"get_singleturn_data\", IronMan.load_test_data(feature_name), indirect=True)\n    async def test_faithfulness(self, get_llm_wrapper, get_singleturn_data, logger):\n        \"\"\"\n        Test to validate faithfulness score using reusable helper class.\n        \"\"\"\n        evaluator = MetricsEvaluator(get_llm_wrapper)\n        score = await evaluator.get_faithfulness_score(get_singleturn_data)\n        logger.info(f\"Faithfulness Score: {score}\")\n    \n        # Validation threshold\n>       Assertions.assert_faithfulness(score)\n\ntest_loyalty_tier_offers.py:29: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nscore = 0.5, threshold = 0.7\n\n    @staticmethod\n    def assert_faithfulness(score: float, threshold: float = 0.7):\n        \"\"\"\n        Validate that the faithfulness score meets the minimum threshold.\n        \"\"\"\n        with allure.step(f\"Validate Faithfulness Score ≥ {threshold}\"):\n>           assert score > threshold, f\"❌ Faithfulness score too low: {score}. Expected > {threshold}\"\n                   ^^^^^^^^^^^^^^^^^\nE           AssertionError: ❌ Faithfulness score too low: 0.5. Expected > 0.7\n\n..\\utilities\\assertions.py:15: AssertionError"}, "description": "Validates that the model response remains faithful to the reference context for loyalty tier offers.", "steps": [{"name": "Calculate Faithfulness Score", "status": "passed", "attachments": [{"name": "User Input", "source": "8982a636-b15b-4f59-bf17-3eb870c45b6f-attachment.txt", "type": "text/plain"}, {"name": "Retrieved Contexts", "source": "e7f77d78-5fd2-4519-b32e-5cb3365eea0b-attachment.txt", "type": "text/plain"}, {"name": "Reference Response", "source": "c1903a6c-7e3f-47ec-82cd-7ef94d8909a8-attachment.txt", "type": "text/plain"}, {"name": "Faithfulness Score", "source": "61c6d6ec-e860-4771-b117-472f02518716-attachment.txt", "type": "text/plain"}], "start": 1762674943516, "stop": 1762674956425}, {"name": "Faithfulness Score: 0.5", "status": "passed", "start": 1762674956425, "stop": 1762674956425}, {"name": "Validate Faithfulness Score ≥ 0.7", "status": "failed", "statusDetails": {"message": "AssertionError: ❌ Faithfulness score too low: 0.5. Expected > 0.7\n", "trace": "  File \"C:\\Users\\SG0704235\\PycharmProjects\\ragas-openai-pytest\\utilities\\assertions.py\", line 15, in assert_faithfulness\n    assert score > threshold, f\"❌ Faithfulness score too low: {score}. Expected > {threshold}\"\n           ^^^^^^^^^^^^^^^^^\n"}, "start": 1762674956425, "stop": 1762674956425}], "attachments": [{"name": "log", "source": "4a15b561-7da3-4e2d-8fab-34e9de449908-attachment.txt", "type": "text/plain"}, {"name": "stdout", "source": "33bb20aa-8e4a-4084-ac0a-e1a923f2a876-attachment.txt", "type": "text/plain"}], "parameters": [{"name": "get_singleturn_data", "value": "{'user_input': 'What is the purpose of the Seat Map & Ancillary Offers feature with Frequent Flyer Tier Benefits?', 'reference_contexts': ['Feature ensures that seat map and ancillary offers respect frequent flyer tier level benefits by marking items as free or discounted based on the passenger’s tier.'], 'reference': \"The purpose is to ensure seat map and ancillary offers reflect frequent flyer tier benefits, making certain items free or discounted according to the passenger's tier level.\", 'synthesizer_name': 'single_hop_specific_query_synthesizer'}"}], "start": 1762674943516, "stop": 1762674956449, "uuid": "4e0781ff-9d77-4af7-8137-3454706410af", "historyId": "87874dacea43851f71fbbfd79726061b", "testCaseId": "290b6c32cedca0eae21329c6285d711f", "fullName": "tests.test_loyalty_tier_offers.TestLoyaltyTierOffers#test_faithfulness", "labels": [{"name": "severity", "value": "critical"}, {"name": "suite", "value": "Loyalty Tier Offers Evaluation Suite"}, {"name": "feature", "value": "Loyalty Tier Offers"}, {"name": "tag", "value": "asyncio"}, {"name": "parentSuite", "value": "tests"}, {"name": "subSuite", "value": "TestLoyaltyTierOffers"}, {"name": "host", "value": "W4KPW724"}, {"name": "thread", "value": "10228-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "tests.test_loyalty_tier_offers"}], "titlePath": ["tests", "test_loyalty_tier_offers.py", "TestLoyaltyTierOffers"]}