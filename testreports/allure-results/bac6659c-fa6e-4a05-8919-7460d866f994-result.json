{"name": "test_top_adherence_score[get_multiturn_data0]", "status": "broken", "statusDetails": {"message": "TypeError: not all arguments converted during string formatting", "trace": "self = <tests.test_rest_assured.TestRestAssured object at 0x0000026B39F59EB0>\nget_llm_wrapper = LangchainLLMWrapper(langchain_llm=ChatOpenAI(...))\nget_multiturn_data = (MultiTurnSample(user_input=[HumanMessage(content='What is Rest Assured?', metadata=None, type='human'), AIMessage(con...ed is a powerful API released by Google—much like Selenium for the web—that lets you automate and test RESTful APIs.'])\nlogger = <Logger pytest_logger (DEBUG)>\n\n    @allure.story(\"Top Adherence Evaluation\")\n    @allure.description(\n        \"Validates that the model response remains top adherence to the reference context for rest assured\")\n    @pytest.mark.asyncio\n    @pytest.mark.parametrize(\"get_multiturn_data\", IronMan.load_test_data(feature_name, \"multiturn\"), indirect=True)\n    async def test_top_adherence_score(self, get_llm_wrapper, get_multiturn_data, logger):\n        \"\"\"\n        Test to validate aspect critic score using reusable helper class.\n        \"\"\"\n        sample, response = get_multiturn_data\n        evaluator = MetricsEvaluator(get_llm_wrapper)\n        score = await evaluator.get_top_adherence_score(sample=sample, response=response)\n        logger.info(f\"Top Adherence Score: {score}\")\n>       self.assertions.assert_top_adherence(score=score, threshold=0.8)\n\ntest_rest_assured.py:46: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n..\\utilities\\assertions.py:120: in assert_top_adherence\n    self.logger.info(\"Expected Threshold \", threshold, \"Score \", score)\n..\\..\\..\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\logging\\__init__.py:1539: in info\n    self._log(INFO, msg, args, **kwargs)\n..\\..\\..\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\logging\\__init__.py:1684: in _log\n    self.handle(record)\n..\\..\\..\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\logging\\__init__.py:1700: in handle\n    self.callHandlers(record)\n..\\..\\..\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\logging\\__init__.py:1762: in callHandlers\n    hdlr.handle(record)\n..\\..\\..\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\logging\\__init__.py:1028: in handle\n    self.emit(record)\n..\\.venv\\Lib\\site-packages\\_pytest\\logging.py:384: in emit\n    super().emit(record)\n..\\..\\..\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\logging\\__init__.py:1168: in emit\n    self.handleError(record)\n..\\..\\..\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\logging\\__init__.py:1160: in emit\n    msg = self.format(record)\n          ^^^^^^^^^^^^^^^^^^^\n..\\..\\..\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\logging\\__init__.py:999: in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n..\\.venv\\Lib\\site-packages\\_pytest\\logging.py:137: in format\n    return super().format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^\n..\\..\\..\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\logging\\__init__.py:703: in format\n    record.message = record.getMessage()\n                     ^^^^^^^^^^^^^^^^^^^\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <LogRecord: pytest_logger, 20, C:\\Users\\SG0704235\\PycharmProjects\\ragas-openai-pytest\\utilities\\assertions.py, 120, \"Expected Threshold \">\n\n    def getMessage(self):\n        \"\"\"\n        Return the message for this LogRecord.\n    \n        Return the message for this LogRecord after merging any user-supplied\n        arguments with the message.\n        \"\"\"\n        msg = str(self.msg)\n        if self.args:\n>           msg = msg % self.args\n                  ^^^^^^^^^^^^^^^\nE           TypeError: not all arguments converted during string formatting\n\n..\\..\\..\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\logging\\__init__.py:392: TypeError"}, "description": "Validates that the model response remains top adherence to the reference context for rest assured", "steps": [{"name": "Calculate Top Adherence Score", "status": "passed", "attachments": [{"name": "User Input", "source": "26d431e3-1c70-451a-9ec8-78c68f4540ee-attachment.txt", "type": "text/plain"}, {"name": "Chatbot Response", "source": "d3d46339-ee90-4ab1-a5a3-027f678334cc-attachment.txt", "type": "text/plain"}, {"name": "Individual Adherence Scores", "source": "5ee99337-1160-49a3-bb9a-909d465d490f-attachment.txt", "type": "text/plain"}, {"name": "Final Top Adherence Score", "source": "452ee805-6ba9-4e83-8a9b-2f77f1eff56d-attachment.txt", "type": "text/plain"}], "start": 1763188746519, "stop": 1763188750409}, {"name": "Top Adherence Score: 0.46", "status": "passed", "start": 1763188750409, "stop": 1763188750409}], "attachments": [{"name": "log", "source": "aebf1f71-f5e3-42fb-a147-0a996f9716fb-attachment.txt", "type": "text/plain"}, {"name": "stdout", "source": "76ca4738-7218-4f41-a7e9-507ef134b72f-attachment.txt", "type": "text/plain"}, {"name": "stderr", "source": "f1760fca-f1ca-4ee5-8fc6-88063098334b-attachment.txt", "type": "text/plain"}], "parameters": [{"name": "get_multiturn_data", "value": "{'conversation': [{'role': 'human', 'content': 'What is Rest Assured?'}, {'role': 'ai', 'content': 'Rest Assured is a Java-based library used for testing and validating RESTful APIs. It simplifies HTTP request creation and response validation without needing complex code or external tools.'}, {'role': 'human', 'content': 'How does it help in API testing?'}, {'role': 'ai', 'content': 'Rest Assured helps automate API testing by supporting GET, POST, PUT, DELETE requests, JSON/XML validation, authentication, and schema verification. It allows testers to write readable, maintainable API test scripts directly in Java.'}, {'role': 'human', 'content': 'How do I test APIs using Rest Assured?'}, {'role': 'ai', 'content': 'To test APIs using Rest Assured, you write test scripts in Java that send HTTP requests and validate responses using assertions. For example:\\n\\n```java\\nResponse response = given()\\n  .baseUri(\"https://api.example.com\")\\n  .when()\\n  .get(\"/users/1\");\\nresponse.then().statusCode(200).body(\"id\", equalTo(1));\\n```'}, {'role': 'human', 'content': 'How can I integrate Rest Assured with a BDD framework like Cucumber?'}, {'role': 'ai', 'content': 'Rest Assured can be integrated with BDD frameworks like Cucumber by writing step definitions that call Rest Assured APIs. You define feature files with Given-When-Then steps and link them to Java step definitions that use Rest Assured methods to perform API actions and validations.'}], 'reference_contexts': ['Rest Assured is a Java library for REST API testing.', 'It simplifies sending requests, validating responses, and performing assertions.', 'Integration with BDD frameworks like Cucumber allows using feature files and step definitions for readable, behavior-driven API tests.'], 'reference': 'Rest Assured is a Java library used for REST API testing. It helps automate validation of HTTP responses and supports integration with BDD frameworks like Cucumber for behavior-driven API testing. It simplifies API validation with fluent syntax, JSON/XML parsing, and built-in authentication support.', 'synthesizer_name': 'multi_turn_rest_assured_bdd'}"}], "start": 1763188746519, "stop": 1763188750796, "uuid": "2fb98f9b-e23f-46e5-a087-b84ee13770c9", "historyId": "f3756d446461e7545ce68d1ad29e79cd", "testCaseId": "b483da4e4716765c33f1fead839d530b", "fullName": "tests.test_rest_assured.TestRestAssured#test_top_adherence_score", "labels": [{"name": "feature", "value": "Rest Assured"}, {"name": "story", "value": "Top Adherence Evaluation"}, {"name": "suite", "value": "Rest Assured Evaluation Suite"}, {"name": "tag", "value": "asyncio"}, {"name": "parentSuite", "value": "tests"}, {"name": "subSuite", "value": "TestRestAssured"}, {"name": "host", "value": "W4KPW724"}, {"name": "thread", "value": "21192-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "tests.test_rest_assured"}], "titlePath": ["tests", "test_rest_assured.py", "TestRestAssured"]}