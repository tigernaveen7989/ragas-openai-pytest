Here’s a concise guide for what should happen when a user adds seats or ancillaries to an existing order (e.g., a flight booking or travel bundle):

- Validate the modification
  - Check that the order is in a modifiable state (not canceled, not past the ticketing/lock window).
  - Enforce any fare rules or product restrictions (some items may not be addable after issuance).

- Reserve inventory
  - Place a hold on the requested seats/ancillaries to prevent oversell.
  - Ensure the system updates the seat map and inventory atomically with the change.

- Recalculate pricing
  - Compute the price delta: base fare difference (if any), new fees/taxes, and applicable surcharges.
  - Apply promotions, discounts, loyalty discounts, or vouchers if eligible.
  - Present a clear price breakdown for the customer.

- Handle payment/settlement
  - If additional amount is due, capture payment using the customer’s preferred method (or issue a new invoice/quote if needed).
  - If the modification reduces the total, process refunds or apply credits as allowed by policy.
  - Ensure payment state is consistent with the order version and avoid duplicate charges.

- Update the order and ticketing
  - Update the order with new line items (seats, bags, meals, etc.).
  - Reissue or modify the ticket/itinerary as required by the supplier (maintain a clear version history).
  - Ensure compliance with airline/system requirements for ticket numbers and itineraries.

- Communications and receipts
  - Send updated itinerary/ETicket and a fresh receipt or invoice.
  - Provide a clear summary of changes, new totals, and any non-refundable components.

- Loyalty, earn/rules, and data integrity
  - Adjust loyalty points/miles if applicable.
  - Update all related data fields (baggage allowances, seat assignments, meal preferences, etc.).
  - Log the modification for audit/history purposes.

- Edge cases and safeguards
  - If requested seats/ancillaries aren’t available, offer alternatives or rollback the change.
  - If modification is rejected by a downstream system, roll back cleanly and inform the user.
  - If change occurs close to departure, enforce any stricter rules (fees, non-changeable items) and clearly communicate.

In short: the system should verify eligibility, reserve inventory, compute and collect any price changes, update and reissue the order as needed, notify the customer with a transparent breakdown, and keep a complete audit trail.