[
  "Here’s a concise guide for what should happen when a user adds seats or ancillaries to an existing order (e.g., a flight booking or travel bundle):\n\n- Validate the modification\n  - Check that the order is in a modifiable state (not canceled, not past the ticketing/lock window).\n  - Enforce any fare rules or product restrictions (some items may not be addable after issuance).\n\n- Reserve inventory\n  - Place a hold on the requested seats/ancillaries to prevent oversell.\n  - Ensure the system updates the seat map and inventory atomically with the change.\n\n- Recalculate pricing\n  - Compute the price delta: base fare difference (if any), new fees/taxes, and applicable surcharges.\n  - Apply promotions, discounts, loyalty discounts, or vouchers if eligible.\n  - Present a clear price breakdown for the customer.\n\n- Handle payment/settlement\n  - If additional amount is due, capture payment using the customer’s preferred method (or issue a new invoice/quote if needed).\n  - If the modification reduces the total, process refunds or apply credits as allowed by policy.\n  - Ensure payment state is consistent with the order version and avoid duplicate charges.\n\n- Update the order and ticketing\n  - Update the order with new line items (seats, bags, meals, etc.).\n  - Reissue or modify the ticket/itinerary as required by the supplier (maintain a clear version history).\n  - Ensure compliance with airline/system requirements for ticket numbers and itineraries.\n\n- Communications and receipts\n  - Send updated itinerary/ETicket and a fresh receipt or invoice.\n  - Provide a clear summary of changes, new totals, and any non-refundable components.\n\n- Loyalty, earn/rules, and data integrity\n  - Adjust loyalty points/miles if applicable.\n  - Update all related data fields (baggage allowances, seat assignments, meal preferences, etc.).\n  - Log the modification for audit/history purposes.\n\n- Edge cases and safeguards\n  - If requested seats/ancillaries aren’t available, offer alternatives or rollback the change.\n  - If modification is rejected by a downstream system, roll back cleanly and inform the user.\n  - If change occurs close to departure, enforce any stricter rules (fees, non-changeable items) and clearly communicate.\n\nIn short: the system should verify eligibility, reserve inventory, compute and collect any price changes, update and reissue the order as needed, notify the customer with a transparent breakdown, and keep a complete audit trail."
]